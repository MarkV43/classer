
"""
maximize   [-1, -1, -1, -1, -1, -0, -0, -0, 1, 1, 1, 1, 1, 0, 0, 0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0]^T * x
subject to:
    [1, 0, 0, 0, 0, 256, 289, -1, -1, -0, -0, -0, -0, -256, -289, 1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0] * x = 1
    [0, 1, 0, 0, 0, 330, 216, -1, -0, -1, -0, -0, -0, -330, -216, 1, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0] * x = 1
    [0, 0, 1, 0, 0, -323, -363, 1, -0, -0, -1, -0, -0, 323, 363, -1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0] * x = 1
    [0, 0, 0, 1, 0, -410, -282, 1, -0, -0, -0, -1, -0, 410, 282, -1, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0] * x = 1
    [0, 0, 0, 0, 1, -488, -200, 1, -0, -0, -0, -0, -1, 488, 200, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0] * x = 1
    [1, 0, 0, 0, 0, 0, 0, 0, -1, -0, -0, -0, -0, -0, -0, -0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0] * x = 0
    [0, 1, 0, 0, 0, 0, 0, 0, -0, -1, -0, -0, -0, -0, -0, -0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0] * x = 0
    [0, 0, 1, 0, 0, 0, 0, 0, -0, -0, -1, -0, -0, -0, -0, -0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0] * x = 0
    [0, 0, 0, 1, 0, 0, 0, 0, -0, -0, -0, -1, -0, -0, -0, -0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0] * x = 0
    [0, 0, 0, 0, 1, 0, 0, 0, -0, -0, -0, -0, -1, -0, -0, -0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1] * x = 0
    x >= 0
"""

using JuMP
using HiGHS

model = Model(HiGHS.Optimizer)

x = [[256, 289], [330, 216]]
y = [[323, 363], [410, 282], [488, 200]]

@variable(model, u[1:2] >= 0)
@variable(model, v[1:3] >= 0)

@variable(model, A[1:2])
@variable(model, b)

@objective(model, Min, sum(u) + sum(v))

@constraint(model, [i = 1:2], A' * x[i] - b >= 1 - u[i])
@constraint(model, [i = 1:3], A' * y[i] - b <= -(1 - v[i]))

print(model)

optimize!(model)

As = value(A)
bs = value(b)

@show As
@show bs

println("Blacks:")
for p in x
    println(As' * p - bs)
end

println("Whites")
for p in y
    println(As' * p - bs)
end
